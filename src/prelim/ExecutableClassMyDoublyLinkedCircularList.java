/**
 * Name and SLU ID Number: TANK, Rithik | 2233293
 * Date: September 15, 2023,
 * Name of Project: Prelim Programming Exercises
 * Sample Run:
 * ------------------------------------------------------------------------
 *                         Doubly Linked Circular List
 * ------------------------------------------------------------------------
 * 	This program allows a user to keep track of a list of laptops, accepting
 * 	information like its brand, color and whether it has warranty.
 * ------------------------------------------------------------------------
 *      1. Add a laptop to the list.
 *      2. Delete a laptop from the list.
 *      3. Get a laptop from the list.
 *      4. Display all laptops in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *     1. Add a laptop at head.
 *     2. Add a laptop at tail.
 *     3. Add a laptop at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 *   Enter the brand of laptop: Apple
 *   Enter the color of the laptop: space grey
 *   Is the laptop under warranty? Y/N : Y
 * called
 * ------------------------------------------------------------------------
 *      1. Add a laptop to the list.
 *      2. Delete a laptop from the list.
 *      3. Get a laptop from the list.
 *      4. Display all laptops in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *     1. Add a laptop at head.
 *     2. Add a laptop at tail.
 *     3. Add a laptop at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 *   Enter the brand of laptop: Samsung
 *   Enter the color of the laptop: silver
 *   Is the laptop under warranty? Y/N : N
 * ------------------------------------------------------------------------
 *      1. Add a laptop to the list.
 *      2. Delete a laptop from the list.
 *      3. Get a laptop from the list.
 *      4. Display all laptops in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *     1. Add a laptop at head.
 *     2. Add a laptop at tail.
 *     3. Add a laptop at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 3
 * Enter index: 1
 *   Enter the brand of laptop: Acer
 *   Enter the color of the laptop: black
 *   Is the laptop under warranty? Y/N : Y
 * ------------------------------------------------------------------------
 *      1. Add a laptop to the list.
 *      2. Delete a laptop from the list.
 *      3. Get a laptop from the list.
 *      4. Display all laptops in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *     1. Add a laptop at head.
 *     2. Add a laptop at tail.
 *     3. Add a laptop at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 *   Enter the brand of laptop: HP
 *   Enter the color of the laptop: silver
 *   Is the laptop under warranty? Y/N : Y
 * ------------------------------------------------------------------------
 *      1. Add a laptop to the list.
 *      2. Delete a laptop from the list.
 *      3. Get a laptop from the list.
 *      4. Display all laptops in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *     1. Add a laptop at head.
 *     2. Add a laptop at tail.
 *     3. Add a laptop at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 *   Enter the brand of laptop: Razer
 *   Enter the color of the laptop: midnight blue
 *   Is the laptop under warranty? Y/N : Y
 * ------------------------------------------------------------------------
 *      1. Add a laptop to the list.
 *      2. Delete a laptop from the list.
 *      3. Get a laptop from the list.
 *      4. Display all laptops in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. HP, silver, has warranty.
 * 2. Apple, space grey, has warranty.
 * 3. Acer, black, has warranty.
 * 4. Samsung, silver, does not have warranty.
 * 5. Razer, midnight blue, has warranty.
 * ------------------------------------------------------------------------
 *      1. Add a laptop to the list.
 *      2. Delete a laptop from the list.
 *      3. Get a laptop from the list.
 *      4. Display all laptops in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 * ------------------------------------------------------------------------
 *     1. Delete laptop at head.
 *     2. Delete laptop at tail.
 *     3. Delete a laptop at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 3
 * Enter index: 2
 * ------------------------------------------------------------------------
 *      1. Add a laptop to the list.
 *      2. Delete a laptop from the list.
 *      3. Get a laptop from the list.
 *      4. Display all laptops in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. HP, silver, has warranty.
 * 2. Apple, space grey, has warranty.
 * 3. Samsung, silver, does not have warranty.
 * 4. Razer, midnight blue, has warranty.
 * ------------------------------------------------------------------------
 *      1. Add a laptop to the list.
 *      2. Delete a laptop from the list.
 *      3. Get a laptop from the list.
 *      4. Display all laptops in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 * ------------------------------------------------------------------------
 *     1. Delete laptop at head.
 *     2. Delete laptop at tail.
 *     3. Delete a laptop at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *      1. Add a laptop to the list.
 *      2. Delete a laptop from the list.
 *      3. Get a laptop from the list.
 *      4. Display all laptops in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. Apple, space grey, has warranty.
 * 2. Samsung, silver, does not have warranty.
 * 3. Razer, midnight blue, has warranty.
 * ------------------------------------------------------------------------
 *      1. Add a laptop to the list.
 *      2. Delete a laptop from the list.
 *      3. Get a laptop from the list.
 *      4. Display all laptops in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 * ------------------------------------------------------------------------
 *     1. Delete laptop at head.
 *     2. Delete laptop at tail.
 *     3. Delete a laptop at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 * ------------------------------------------------------------------------
 *      1. Add a laptop to the list.
 *      2. Delete a laptop from the list.
 *      3. Get a laptop from the list.
 *      4. Display all laptops in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. Apple, space grey, has warranty.
 * 2. Samsung, silver, does not have warranty.
 * ------------------------------------------------------------------------
 *      1. Add a laptop to the list.
 *      2. Delete a laptop from the list.
 *      3. Get a laptop from the list.
 *      4. Display all laptops in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 3
 * Enter the index of the laptop you would like to get: 1
 * Samsung, silver, does not have warranty.
 * ------------------------------------------------------------------------
 *      1. Add a laptop to the list.
 *      2. Delete a laptop from the list.
 *      3. Get a laptop from the list.
 *      4. Display all laptops in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 5
 * Thank you for using the program!
 *
 * Process finished with exit code 0
 */
package prelim;
import java.util.Scanner;

public class ExecutableClassMyDoublyLinkedCircularList {

    /**
     * Object to be passed into the Linked Lst
     */
    public static class Laptop {

        /** Class variables*/
        private String brand;
        private String color;
        private boolean warranty;

        /**
         * Default Constructor
         * Algorithm:
         *      1. Assign default values
         */
        public Laptop() {
            brand = "Apple";
            color = "white";
            warranty = false;
        }

        /**
         * Constructor for Laptop
         * Algorithm:
         *     1. Accept variables as a parameter
         *     2. Assign the passed in values to Laptop class's variables
         * @param brand : String
         * @param color : String
         * @param warranty : boolean
         */
        public Laptop(String brand, String color, boolean warranty) {
            this.brand = brand;
            this.color = color;
            this.warranty = warranty;
        }

        /**
         * Return the brand of Laptop
         * @return brand
         */
        public String getBrand() {
            return brand;
        }

        /**
         * Returns the color of the Laptop
         * @return color
         */
        public String getColor() {
            return color;
        }

        /**
         * Returns if the Laptop has color
         * @return warranty
         */
        public boolean getWarranty() {
            return warranty;
        }

        /**
         * Set the brand of the Laptop
         * @param brand : String
         */
        public void setBrand(String brand) {
            this.brand = brand;
        }

        /**
         * Set the color of the laptop
         * @param color : String
         */
        public void setColor(String color) {
            this.color = color;
        }

        /**
         * Set whether the laptop has warranty
         * @param warranty : boolean
         */
        public void setWarranty(boolean warranty) {
            this.warranty = warranty;
        }

        /**
         * Returns the Laptop object in string representations
         * @return brand, color, and warranty
         */
        public String toString() {
            String message = "";
            if (warranty)
                message = "has warranty";
            else
                message = "does not have warranty";
            return brand + ", " + color + ", " + message + ".";
        }
    }


    static Scanner keyboard = new Scanner(System.in);                       // Scanner object to be used to accept user int
    static MyDoublyLinkedCircularList<Laptop> laptopList = new MyDoublyLinkedCircularList<>(); // Create a MyDoublyLinkedCircularList obj to hold all the laptops

    static String invalidNumber = "Enter a valid number.";                  // Error message for when an invalid number is passed in
    static String indexDoesNotExist = "There is no room for the laptop " +     // Error message for when the index does not exist
            "at that index";

    /**
     * Main Method
     * @param args : String[]
     */
    public static void main(String[] args) {
        showHeader();
        showInstructions();
        run();
    }

    /**
     * Method to show introduction to user
     */
    public static void showHeader() {
        System.out.println("------------------------------------------------------------------------");
        System.out.println("                        Doubly Linked Circular List                 ");
        System.out.println("------------------------------------------------------------------------");
    }

    /**
     * Method to show what the application does to user.
     */
    public static void showInstructions() {
        System.out.println("\tThis program allows a user to keep track of a list of laptops, " +
                "accepting \n\tinformation like its brand, color and whether it has warranty.");
    }

    /**
     * Method to handle running the program
     * Algorithm:
     *      1. Create a do while statement to always run
     *          1.1. Call the logicMenu method
     */
    public static void run() {
        do {
            try {
                logicMenu();
            } catch (NullPointerException ex) {
                System.out.println("There are no laptops in the list.");
            }
        } while (true);
    }

    /**
     * Method to handle the logic of the main menu
     * Algorithm:
     *      1. Show the main menu to user
     *      2. Request a choice from user using enterChoice method
     *      3. Create a switch case for user choice
     *          3.1. Let 5 different cases handle the 5 different functions of the program:
     *              - Add an object
     *              - delete an object
     *              - get an object
     *              - show all laptops
     *              - quit program
     */
    public static void logicMenu(){
        showMainMenu();
        int choice = enterChoice(1,5, "Enter your choice: ", invalidNumber);
        switch (choice) {
            case 1-> addObject();
            case 2-> deleteObject();
            case 3-> getObject();
            case 4-> showLaptops();
            case 5-> quit();
        }
    }

    /**
     * Method to show a list of all the possible functions of the application to the user
     * Algorithm:
     *      1. Make use of println to display all the numbered possible functions to user
     */
    public static void showMainMenu() {
        System.out.println("------------------------------------------------------------------------");
        System.out.println("     1. Add a laptop to the list.");
        System.out.println("     2. Delete a laptop from the list.");
        System.out.println("     3. Get a laptop from the list.");
        System.out.println("     4. Display all laptops in the list. ");
        System.out.println("     5. Quit program.");
        System.out.println("------------------------------------------------------------------------");
    }

    /**
     * Method to handle user input for a number in a range
     * @param min
     * @param max
     * @param prompt
     * @param errorMessage
     * @return choice
     *
     * Algorithm:
     *      1. Create a variable choice to hold user input
     *      2. Create a do while statement which will run user input not within passed in range
     *          2.1. Create a try and catch to handle when user inputs a string
     *          2.2. In try block:
     *              2.2.1. Display passed in prompt to user
     *              2.2.2. Accept user input through Scanner object
     *              2.2.3. Display error message to user if input not within passed in range
     *          2.3. In catch block:
     *              2.3.1. Tell the user to enter an integer
     */
    public static int enterChoice(int min, int max, String prompt, String errorMessage) {
        int choice = -1;
        do {
            try {
                System.out.print(prompt);
                choice = Integer.parseInt(keyboard.nextLine());
                if (choice <min || choice >max)
                    System.out.println(errorMessage);
            } catch (NumberFormatException ex) {
                System.out.println("Enter an integer.");
            }
        } while(choice <min || choice > max);
        return choice;
    }

    /**
     * Method to handle logic for adding an object
     * Algorithm:
     *      1. Call the showAddMenu method
     *      2. Use enterChoice method to get user input for where they would like to input new laptop in the list
     *      3. Create an int object to hold possible index (if user chooses to add at an index)
     *      4. If user chooses to add at an index request index from user using Scanner object
     *      5. Call the requestLaptop method to request Laptop details from user
     *      6. Create a switch statement to handle user's choice of where to add
     *          6.1. call insertAtHead method if user choice == 1
     *          6.2. call insertAtTail method if user choice == 2
     *          6.3. call insertAtIndex method if user choice == 3 and pass in the index requested
     */
    public static void addObject() {
        showAddMenu();
        int choice = enterChoice(1,3, "Enter your choice: ",invalidNumber);
        int index = 0;
        if (choice==3)
            index = enterChoice(0, laptopList.getSize(),"Enter index: ", indexDoesNotExist);
        Laptop newLaptop = requestLaptop();
        switch (choice) {
            case 1 -> laptopList.addAtHead(newLaptop);
            case 2 -> laptopList.insert(newLaptop);
            case 3 -> laptopList.addAtIndex(index,newLaptop);
        }
    }

    /**
     * Method to handle asking user to enter Laptop details
     * @return Laptop
     * Algorithm:
     *      1. Have user enter the brand of Laptop and accept user input
     *      2. Have user enter the color of Laptop and accept user input
     *      3. Create a boolean variable
     *      4. Wrap a do-while statement outside a prompt, and a request from user to enter whether
     *      the laptop has warranty. The do while statement will assure that user input is indeed true or false.
     *      5. Create a new Laptop object from passed in Laptop information and return it
     */
    public static Laptop requestLaptop() {
        System.out.print("  Enter the brand of laptop: ");
        String laptopType = keyboard.nextLine();
        System.out.print("  Enter the color of the laptop: ");
        String color = keyboard.nextLine();
        boolean condition = false;
        boolean warranty = false;
        String input;
        do {
            System.out.print("  Is the laptop under warranty? Y/N : ");
            input = keyboard.nextLine();
            if (input.equalsIgnoreCase("Y")) {
                condition = true;
                warranty = true;
            }
            else if (input.equalsIgnoreCase("N")) {
                condition = true;
            }
            if (!condition)
                System.out.println("Please enter either Y or N.");
        } while (!condition);
        return new Laptop(laptopType, color, warranty);
    }

    /**
     * Method to show the options for where to add a Laptop
     * Algorithm:
     *      1. Make use of println to show all the possible ways to add a Laptop to the Laptop List
     */
    public static void showAddMenu(){
        System.out.println("------------------------------------------------------------------------");
        System.out.println("    1. Add a laptop at head. ");
        System.out.println("    2. Add a laptop at tail. ");
        System.out.println("    3. Add a laptop at an index. ");
        System.out.println("------------------------------------------------------------------------");
    }

    /**
     * Method to show the options for which Laptop to delete
     * Algorithm:
     *      1. Make use of println to show all the possible options to deleting a Laptop in Laptop list.
     */
    public static void showDeleteMenu(){
        System.out.println("------------------------------------------------------------------------");
        System.out.println("    1. Delete laptop at head. ");
        System.out.println("    2. Delete laptop at tail. ");
        System.out.println("    3. Delete a laptop at an index. ");
        System.out.println("------------------------------------------------------------------------");
    }

    /**
     * Method to handle the logic deleting an object from the list
     * Algorithm:
     *      1. Call the showDeleteMenu method
     *      2. Request a choice from the user between the range of possible delete option
     *      3. Create an int object to hold possible index (if user chooses to add at an index)
     *      4. If user chooses to delete at an index request index from user using Scanner object
     *      5. Create a switch statement to handle user's choice of where to delete
     *          6.1. call deleteAtHead method if user choice == 1
     *          6.2. call deleteAtTail method if user choice == 2
     *          6.3. call deleteAtIndex method if user choice == 3 and pass in the index requested
     */
    public static void deleteObject() throws NullPointerException{
        showDeleteMenu();
        int choice = enterChoice(1,3, "Enter your choice: ",invalidNumber);
        int index = 0;
        if (choice==3)
            index = enterChoice(0, laptopList.getSize(),"Enter index: ", indexDoesNotExist);
        switch (choice) {
            case 1 -> laptopList.deleteHead();
            case 2 -> laptopList.deleteTail();
            case 3 -> laptopList.deleteAtIndex(index);
        }
    }

    /**
     * Method to handle getting an object from the list
     * Algorithm:
     *      1. Request an index from user using the enterChoice method
     *      2. Insert the index specified to the get method of laptopList and display the returned laptop to user.
     */
    public static void getObject()  {
        if ( laptopList.getSize() !=0) {
            int choice = enterChoice(0, laptopList.getSize() - 1, "Enter the index of the laptop you would like to get: ", invalidNumber);
            System.out.println(laptopList.get(choice));
        } else {
            System.out.println("There are no laptops in the list.");
        }
    }

    /**
     * Method to handle quitting of the program
     * Algorithm:
     *      1. Display a thank you message to user
     *      2. Quit program.
     */
    public static void quit() {
        System.out.println("Thank you for using the program!");
        System.exit(0);
    }

    /**
     * Method to handle showing all laptop in list to user
     * Algorithm:
     *      1. Create a for loop to iterate through all Laptops in the list and display each of them to user.
     */
    public static void showLaptops() {
        for (int x = 0; x<laptopList.getSize(); x++)
            System.out.println((x+1) + ". " + laptopList.get(x));
    }

}
