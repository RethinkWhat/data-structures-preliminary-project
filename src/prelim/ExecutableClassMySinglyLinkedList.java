/**
 * Name and SLU ID Number: TANK, Rithik | 2233293
 * Date: September 15, 2023,
 * Name of Project: Prelim Programming Exercises
 * Sample Run:
 * ------------------------------------------------------------------------
 *                              Singly Linked List
 * ------------------------------------------------------------------------
 * 	This program allows a user to keep track of a list of bags, accepting
 * 	information like its brand, type and number of pockets.
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 * ------------------------------------------------------------------------
 *     1. Delete bag at head.
 *     2. Delete bag at tail.
 *     3. Delete a bag at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * There are no bags in the list.
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 3
 * There are no bags in the list.
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *     1. Add a bag at head.
 *     2. Add a bag at tail.
 *     3. Add a bag at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 *   Enter the type of the bag: Backpack
 *   Enter the brand of the bag: Nike
 *   Enter the number of pockets of the bag: 4
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *     1. Add a bag at head.
 *     2. Add a bag at tail.
 *     3. Add a bag at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 *   Enter the type of the bag: Sling bag
 *   Enter the brand of the bag: Adidas
 *   Enter the number of pockets of the bag: 2
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. Nike, Backpack, 4 pockets.
 * 2. Adidas, Sling bag, 2 pockets.
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *     1. Add a bag at head.
 *     2. Add a bag at tail.
 *     3. Add a bag at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 *   Enter the type of the bag: Hand bag
 *   Enter the brand of the bag: Louis Vuitton
 *   Enter the number of pockets of the bag: 2
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. Louis Vuitton, Hand bag, 2 pockets.
 * 2. Nike, Backpack, 4 pockets.
 * 3. Adidas, Sling bag, 2 pockets.
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *     1. Add a bag at head.
 *     2. Add a bag at tail.
 *     3. Add a bag at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 3
 * Enter index: 1
 *   Enter the type of the bag: Fanny pack
 *   Enter the brand of the bag: unbranded
 *   Enter the number of pockets of the bag: 1
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. Louis Vuitton, Hand bag, 2 pockets.
 * 2. unbranded, Fanny pack, 1 pockets.
 * 3. Nike, Backpack, 4 pockets.
 * 4. Adidas, Sling bag, 2 pockets.
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 3
 * Enter the index of the number you would like to get: 1
 * unbranded, Fanny pack, 1 pockets.
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 * ------------------------------------------------------------------------
 *     1. Delete bag at head.
 *     2. Delete bag at tail.
 *     3. Delete a bag at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. unbranded, Fanny pack, 1 pockets.
 * 2. Nike, Backpack, 4 pockets.
 * 3. Adidas, Sling bag, 2 pockets.
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 * ------------------------------------------------------------------------
 *     1. Delete bag at head.
 *     2. Delete bag at tail.
 *     3. Delete a bag at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 3
 * Enter index: 1
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. unbranded, Fanny pack, 1 pockets.
 * 2. Adidas, Sling bag, 2 pockets.
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 * ------------------------------------------------------------------------
 *     1. Delete bag at head.
 *     2. Delete bag at tail.
 *     3. Delete a bag at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 *
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. unbranded, Fanny pack, 1 pockets.
 * ------------------------------------------------------------------------
 *      1. Add a bag to the list.
 *      2. Delete a bag from the list.
 *      3. Get an object from the list.
 *      4. Display all bags in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 5
 * Thank you for using the program!
 *
 * Process finished with exit code 0
 *
 */
package prelim;
import java.util.Scanner;

public class ExecutableClassMySinglyLinkedList {

    /**
     * Object to be passed into the Linked Lst
     */
    public static class Bag {

        /** Class variables*/
        private String type;
        private String brand;
        private int pockets;

        /**
         * Default Constructor
         * Algorithm:
         *      1. Assign default values
         */
        public Bag() {
            type = "backpack";
            brand = "unbranded";
            pockets = 2;
        }

        /**
         * Constructor for bag
         * Algorithm:
         *     1. Accept variables as a parameter
         *     2. Assign the passed in values to Bag class's variables
         * @param type : String
         * @param brand : String
         * @param pockets : int
         */
        public Bag(String type, String brand, int pockets) {
            this.type = type;
            this.brand = brand;
            this.pockets = pockets;
        }

        /**
         * Return the type of bag
         * @return type
         */
        public String getType() {
            return type;
        }

        /**
         * Returns the brand of the bag
         * @return brand
         */
        public String getBrand() {
            return brand;
        }

        /**
         * Returns the number of pockets of the bag
         * @return pockets
         */
        public int getPockets() {
            return pockets;
        }

        /**
         * Set the type of the bag
         * @param type : String
         */
        public void setType(String type) {
            this.type = type;
        }

        /**
         * Set the brand of the bag
         * @param brand : String
         */
        public void setBrand(String brand) {
            this.brand = brand;
        }

        /**
         * Set the number of pockets of the bag
         * @param pockets : int
         */
        public void setPockets(int pockets) {
            this.pockets = pockets;
        }

        /**
         * Returns the Bag object in string representations
         * @return brand, type, pockets.
         */
        public String toString() {
            return brand + ", " + type + ", " + pockets + " pockets.";
        }
    }


    static Scanner keyboard = new Scanner(System.in);                       // Scanner object to be used to accept user int
    static MySinglyLinkedList<Bag> bagList = new MySinglyLinkedList<Bag>(); // Create a MySinglyLinkedList to hold all the bags

    static String invalidNumber = "Enter a valid number.";                  // Error message for when an invalid number is passed in
    static String indexDoesNotExist = "There is no room for the bag " +     // Error message for when the index does not exist
            "at that index";

    /**
     * Main Method
     * @param args : String[]
     */
    public static void main(String[] args) {
        showHeader();
        showInstructions();
        run();
    }

    /**
     * Method to show introduction to user
     */
    public static void showHeader() {
        System.out.println("------------------------------------------------------------------------");
        System.out.println("                             Singly Linked List                 ");
        System.out.println("------------------------------------------------------------------------");
    }

    /**
     * Method to show what the application does to user.
     */
    public static void showInstructions() {
        System.out.println("\tThis program allows a user to keep track of a list of bags, " +
                "accepting \n\tinformation like its brand, type and number of pockets.");
    }

    /**
     * Method to handle running the program
     * Algorithm:
     *      1. Create a do while statement to always run
     *          1.1. Call the logicMenu method
     */
    public static void run() {
        do {
            try {
                logicMenu();
            } catch (NullPointerException ex) {
                System.out.println("There are no bags in the list.");
            }
        } while (true);
    }

    /**
     * Method to handle the logic of the main menu
     * Algorithm:
     *      1. Show the main menu to user
     *      2. Request a choice from user using enterChoice method
     *      3. Create a switch case for user choice
     *          3.1. Let 5 different cases handle the 5 different functions of the program:
     *              - Add an object
     *              - delete an object
     *              - get an object
     *              - show all bags
     *              - quit program
     */
    public static void logicMenu(){
        showMainMenu();
        int choice = enterChoice(1,5, "Enter your choice: ", invalidNumber);
        switch (choice) {
            case 1-> addObject();
            case 2-> deleteObject();
            case 3-> getObject();
            case 4-> showBags();
            case 5-> quit();
        }
    }

    /**
     * Method to show a list of all the possible functions of the application to the user
     * Algorithm:
     *      1. Make use of println to display all the numbered possible functions to user
     */
    public static void showMainMenu() {
        System.out.println("------------------------------------------------------------------------");
        System.out.println("     1. Add a bag to the list.");
        System.out.println("     2. Delete a bag from the list.");
        System.out.println("     3. Get an object from the list.");
        System.out.println("     4. Display all bags in the list. ");
        System.out.println("     5. Quit program.");
        System.out.println("------------------------------------------------------------------------");
    }

    /**
     * Method to handle user input for a number in a range
     * @param min
     * @param max
     * @param prompt
     * @param errorMessage
     * @return choice
     *
     * Algorithm:
     *      1. Create a variable choice to hold user input
     *      2. Create a do while statement which will run user input not within passed in range
     *          2.1. Create a try and catch to handle when user inputs a string
     *          2.2. In try block:
     *              2.2.1. Display passed in prompt to user
     *              2.2.2. Accept user input through Scanner object
     *              2.2.3. Display error message to user if input not within passed in range
     *          2.3. In catch block:
     *              2.3.1. Tell the uer to enter an integer
     */
    public static int enterChoice(int min, int max, String prompt, String errorMessage) {
        int choice = -1;
        do {
            try {
                System.out.print(prompt);
                choice = Integer.parseInt(keyboard.nextLine());
                if (choice <min || choice >max)
                    System.out.println(errorMessage);
            } catch (NumberFormatException ex) {
                System.out.println("Enter an integer.");
            }
        } while(choice <min || choice > max);
        return choice;
    }

    /**
     * Method to handle logic for adding an object
     * Algorithm:
     *      1. Call the showAddMenu method
     *      2. Use enterChoice method to get user input for where they would like to input new bag in the list
     *      3. Create an int object to hold possible index (if user chooses to add at an index)
     *      4. If user chooses to add at an index request index from user using Scanner object
     *      5. Call the requestBag method to request Bag details from user
     *      6. Create a switch statement to handle user's choice of where to add
     *          6.1. call insertAtHead method if user choice == 1
     *          6.2. call insertAtTail method if user choice == 2
     *          6.3. call insertAtIndex method if user choice == 3 and pass in the index requested
     */
    public static void addObject() {
        showAddMenu();
        int choice = enterChoice(1,3, "Enter your choice: ",invalidNumber);
        int index = 0;
        if (choice==3)
            index = enterChoice(0, bagList.getNodesCount(),"Enter index: ", indexDoesNotExist);
        Bag newBag = requestBag();
        switch (choice) {
            case 1 -> bagList.insertAtHead(newBag);
            case 2 -> bagList.insertAtTail(newBag);
            case 3 -> bagList.insertAtIndex(index,newBag);
        }
    }

    /**
     * Method to handle asking user to enter Bag details
     * @return Bag
     * Algorithm:
     *      1. Have user enter the type of bag and accept user input
     *      2. Have user enter the brand of bag and accept user input
     *      3. Create a boolean variable
     *      4. Wrap a do-while statement outside a try and catch statement for requesting  number of pockets from
     *      user such that even when the user inputs a String by accident the program will not come to a halt due
     *      to the error.
     *      5. Create a new Bag object from passed in Bag information and return it
     */
    public static Bag requestBag() {
        System.out.print("  Enter the type of the bag: ");
        String bagType = keyboard.nextLine();
        System.out.print("  Enter the brand of the bag: ");
        String bagBrand = keyboard.nextLine();
        boolean condition = false;
        int pocketsNumber = 0;
        do {
            try {
                System.out.print("  Enter the number of pockets of the bag: ");
                pocketsNumber = Integer.parseInt(keyboard.nextLine());
                condition = true;
            } catch (NumberFormatException ex){
                System.out.println("Enter a valid number. Try again.");
            }
        } while (!condition);
        return new Bag(bagType,bagBrand,pocketsNumber);
    }

    /**
     * Method to show the options for where to add a bag
     * Algorithm:
     *      1. Make use of println to show all the possible ways to add a bag to the Bag List
     */
    public static void showAddMenu(){
        System.out.println("------------------------------------------------------------------------");
        System.out.println("    1. Add a bag at head. ");
        System.out.println("    2. Add a bag at tail. ");
        System.out.println("    3. Add a bag at an index. ");
        System.out.println("------------------------------------------------------------------------");
    }

    /**
     * Method to show the options for which bag to delete
     * Algorithm:
     *      1. Make use of println to show all the possible options to deleting a bag in Bag list.
     */
    public static void showDeleteMenu(){
        System.out.println("------------------------------------------------------------------------");
        System.out.println("    1. Delete bag at head. ");
        System.out.println("    2. Delete bag at tail. ");
        System.out.println("    3. Delete a bag at an index. ");
        System.out.println("------------------------------------------------------------------------");
    }

    /**
     * Method to handle the logic deleting an object from the list
     * Algorithm:
     *      1. Call the showDeleteMenu method
     *      2. Request a choice from the user between the range of possible delete option
     *      3. Create an int object to hold possible index (if user chooses to add at an index)
     *      4. If user chooses to delete at an index request index from user using Scanner object
     *      5. Create a switch statement to handle user's choice of where to delete
     *          6.1. call deleteAtHead method if user choice == 1
     *          6.2. call deleteAtTail method if user choice == 2
     *          6.3. call deleteAtIndex method if user choice == 3 and pass in the index requested
     */
    public static void deleteObject() throws NullPointerException{
        showDeleteMenu();
        int choice = enterChoice(1,3, "Enter your choice: ",invalidNumber);
        int index = 0;
        if (choice==3)
            index = enterChoice(0, bagList.getNodesCount(),"Enter index: ", indexDoesNotExist);
        switch (choice) {
            case 1 -> bagList.deleteHead();
            case 2 -> bagList.deleteTail();
            case 3 -> bagList.deleteAtIndex(index);
        }
    }

    /**
     * Method to handle getting an object from the list
     * Algorithm:
     *      1. Request an index from user using the enterChoice method
     *      2. Insert the index specified to the get method of bagList and display the returned bag to user.
     */
    public static void getObject()  {
        if ( bagList.getNodesCount() !=0) {
            int choice = enterChoice(0, bagList.getNodesCount() - 1, "Enter the index of the number you would like to get: ", invalidNumber);
            System.out.println(bagList.get(choice));
        } else {
            System.out.println("There are no bags in the list.");
        }
    }

    /**
     * Method to handle quitting of the program
     * Algorithm:
     *      1. Display a thank you message to user
     *      2. Quit program.
     */
    public static void quit() {
        System.out.println("Thank you for using the program!");
        System.exit(0);
    }

    /**
     * Method to handle showing all bags in list to user
     * Algorithm:
     *      1. Create a for loop to iterate through all bags in the list and display each of them to user.
     */
    public static void showBags() {
        for (int x = 0; x<bagList.getNodesCount(); x++)
            System.out.println((x+1) + ". " + bagList.get(x));
    }

}
