/**
 * Name and SLU ID Number: TANK, Rithik | 2233293
 * Date: September 15, 2023,
 * Name of Project: Prelim Programming Exercises
 * Sample Run:
 *
 * ------------------------------------------------------------------------
 *                              Doubly Linked List
 * ------------------------------------------------------------------------
 * 	This program allows a user to keep track of a list of shirts, accepting
 * 	information like its type, color and whether it has stripes.
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *     1. Add a shirt at head.
 *     2. Add a shirt at tail.
 *     3. Add a shirt at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 *   Enter the type of shirt: v neck
 *   Enter the color of the shirt: white
 *   Is the shirt striped? Y/N : y
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. v neck, white, has stripes.
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *     1. Add a shirt at head.
 *     2. Add a shirt at tail.
 *     3. Add a shirt at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 *   Enter the type of shirt: round neck
 *   Enter the color of the shirt: brown
 *   Is the shirt striped? Y/N : n
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. v neck, white, has stripes.
 * 2. round neck, brown, does not have stripes.
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *     1. Add a shirt at head.
 *     2. Add a shirt at tail.
 *     3. Add a shirt at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 3
 * Enter index: 1
 *   Enter the type of shirt: longsleeve
 *   Enter the color of the shirt: orange
 *   Is the shirt striped? Y/N : n
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. v neck, white, has stripes.
 * 2. longsleeve, orange, does not have stripes.
 * 3. round neck, brown, does not have stripes.
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 3
 * Enter the index of the number you would like to get: 1
 * longsleeve, orange, does not have stripes.
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 * ------------------------------------------------------------------------
 *     1. Delete shirt at head.
 *     2. Delete shirt at tail.
 *     3. Delete a shirt at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 3
 * Enter index: 1
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. v neck, white, has stripes.
 * 2. round neck, brown, does not have stripes.
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *     1. Add a shirt at head.
 *     2. Add a shirt at tail.
 *     3. Add a shirt at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 *   Enter the type of shirt: v neck
 *   Enter the color of the shirt: blue
 *   Is the shirt striped? Y/N : y
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. v neck, blue, has stripes.
 * 2. v neck, white, has stripes.
 * 3. round neck, brown, does not have stripes.
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 * ------------------------------------------------------------------------
 *     1. Delete shirt at head.
 *     2. Delete shirt at tail.
 *     3. Delete a shirt at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 1
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. v neck, white, has stripes.
 * 2. round neck, brown, does not have stripes.
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 * ------------------------------------------------------------------------
 *     1. Delete shirt at head.
 *     2. Delete shirt at tail.
 *     3. Delete a shirt at an index.
 * ------------------------------------------------------------------------
 * Enter your choice: 2
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 4
 * 1. v neck, white, has stripes.
 * ------------------------------------------------------------------------
 *      1. Add a shirt to the list.
 *      2. Delete a shirt from the list.
 *      3. Get a shirt from the list.
 *      4. Display all shirts in the list.
 *      5. Quit program.
 * ------------------------------------------------------------------------
 * Enter your choice: 5
 * Thank you for using the program!
 *
 * Process finished with exit code 0
 */
package prelim;
import java.util.Scanner;

public class ExecutableClassMyDoublyLinkedList {

    /**
     * Object to be passed into the Linked Lst
     */
    public static class Shirt {

        /** Class variables*/
        private String type;
        private String color;
        private boolean stripes;

        /**
         * Default Constructor
         * Algorithm:
         *      1. Assign default values
         */
        public Shirt() {
            type = "round neck";
            color = "white";
            stripes = false;
        }

        /**
         * Constructor for bag
         * Algorithm:
         *     1. Accept variables as a parameter
         *     2. Assign the passed in values to Bag class's variables
         * @param type : String
         * @param color : String
         * @param stripes : boolean
         */
        public Shirt(String type, String color, boolean stripes) {
            this.type = type;
            this.color = color;
            this.stripes = stripes;
        }

        /**
         * Return the type of bag
         * @return type
         */
        public String getType() {
            return type;
        }

        /**
         * Returns the brand of the bag
         * @return brand
         */
        public String getColor() {
            return color;
        }

        /**
         * Returns the number of pockets of the bag
         * @return pockets
         */
        public boolean getStripes() {
            return stripes;
        }

        /**
         * Set the type of the bag
         * @param type : String
         */
        public void setType(String type) {
            this.type = type;
        }

        /**
         * Set the brand of the bag
         * @param color : String
         */
        public void setColor(String color) {
            this.color = color;
        }

        /**
         * Set the number of pockets of the bag
         * @param stripes : boolean
         */
        public void setStripes(boolean stripes) {
            this.stripes = stripes;
        }

        /**
         * Returns the Bag object in string representations
         * @return brand, type, pockets.
         */
        public String toString() {
            String message = "";
            if (stripes)
                message = "has stripes";
            else
                message = "does not have stripes";
            return type + ", " + color + ", " + message + ".";
        }
    }


    static Scanner keyboard = new Scanner(System.in);                       // Scanner object to be used to accept user int
    static MyDoublyLinkedList<Shirt> shirtList = new MyDoublyLinkedList<>(); // Create a MySinglyLinkedList to hold all the bags

    static String invalidNumber = "Enter a valid number.";                  // Error message for when an invalid number is passed in
    static String indexDoesNotExist = "There is no room for the bag " +     // Error message for when the index does not exist
            "at that index";

    /**
     * Main Method
     * @param args : String[]
     */
    public static void main(String[] args) {
        showHeader();
        showInstructions();
        run();
    }

    /**
     * Method to show introduction to user
     */
    public static void showHeader() {
        System.out.println("------------------------------------------------------------------------");
        System.out.println("                             Doubly Linked List                 ");
        System.out.println("------------------------------------------------------------------------");
    }

    /**
     * Method to show what the application does to user.
     */
    public static void showInstructions() {
        System.out.println("\tThis program allows a user to keep track of a list of shirts, " +
                "accepting \n\tinformation like its type, color and whether it has stripes.");
    }

    /**
     * Method to handle running the program
     * Algorithm:
     *      1. Create a do while statement to always run
     *          1.1. Call the logicMenu method
     */
    public static void run() {
        do {
            try {
                logicMenu();
            } catch (NullPointerException ex) {
                System.out.println("There are no bags in the list.");
            }
        } while (true);
    }

    /**
     * Method to handle the logic of the main menu
     * Algorithm:
     *      1. Show the main menu to user
     *      2. Request a choice from user using enterChoice method
     *      3. Create a switch case for user choice
     *          3.1. Let 5 different cases handle the 5 different functions of the program:
     *              - Add an object
     *              - delete an object
     *              - get an object
     *              - show all bags
     *              - quit program
     */
    public static void logicMenu(){
        showMainMenu();
        int choice = enterChoice(1,5, "Enter your choice: ", invalidNumber);
        switch (choice) {
            case 1-> addObject();
            case 2-> deleteObject();
            case 3-> getObject();
            case 4-> showShirts();
            case 5-> quit();
        }
    }

    /**
     * Method to show a list of all the possible functions of the application to the user
     * Algorithm:
     *      1. Make use of println to display all the numbered possible functions to user
     */
    public static void showMainMenu() {
        System.out.println("------------------------------------------------------------------------");
        System.out.println("     1. Add a shirt to the list.");
        System.out.println("     2. Delete a shirt from the list.");
        System.out.println("     3. Get a shirt from the list.");
        System.out.println("     4. Display all shirts in the list. ");
        System.out.println("     5. Quit program.");
        System.out.println("------------------------------------------------------------------------");
    }

    /**
     * Method to handle user input for a number in a range
     * @param min
     * @param max
     * @param prompt
     * @param errorMessage
     * @return choice
     *
     * Algorithm:
     *      1. Create a variable choice to hold user input
     *      2. Create a do while statement which will run user input not within passed in range
     *          2.1. Create a try and catch to handle when user inputs a string
     *          2.2. In try block:
     *              2.2.1. Display passed in prompt to user
     *              2.2.2. Accept user input through Scanner object
     *              2.2.3. Display error message to user if input not within passed in range
     *          2.3. In catch block:
     *              2.3.1. Tell the uer to enter an integer
     */
    public static int enterChoice(int min, int max, String prompt, String errorMessage) {
        int choice = -1;
        do {
            try {
                System.out.print(prompt);
                choice = Integer.parseInt(keyboard.nextLine());
                if (choice <min || choice >max)
                    System.out.println(errorMessage);
            } catch (NumberFormatException ex) {
                System.out.println("Enter an integer.");
            }
        } while(choice <min || choice > max);
        return choice;
    }

    /**
     * Method to handle logic for adding an object
     * Algorithm:
     *      1. Call the showAddMenu method
     *      2. Use enterChoice method to get user input for where they would like to input new bag in the list
     *      3. Create an int object to hold possible index (if user chooses to add at an index)
     *      4. If user chooses to add at an index request index from user using Scanner object
     *      5. Call the requestBag method to request Bag details from user
     *      6. Create a switch statement to handle user's choice of where to add
     *          6.1. call insertAtHead method if user choice == 1
     *          6.2. call insertAtTail method if user choice == 2
     *          6.3. call insertAtIndex method if user choice == 3 and pass in the index requested
     */
    public static void addObject() {
        showAddMenu();
        int choice = enterChoice(1,3, "Enter your choice: ",invalidNumber);
        int index = 0;
        if (choice==3)
            index = enterChoice(0, shirtList.getNodeCount(),"Enter index: ", indexDoesNotExist);
        Shirt newShirt = requestShirt();
        switch (choice) {
            case 1 -> shirtList.insertAtHead(newShirt);
            case 2 -> shirtList.insertAtTail(newShirt);
            case 3 -> shirtList.insertAtIndex(index,newShirt);
        }
    }

    /**
     * Method to handle asking user to enter Bag details
     * @return Bag
     * Algorithm:
     *      1. Have user enter the type of bag and accept user input
     *      2. Have user enter the brand of bag and accept user input
     *      3. Create a boolean variable
     *      4. Wrap a do-while statement outside a try and catch statement for requesting  number of pockets from
     *      user such that even when the user inputs a String by accident the program will not come to a halt due
     *      to the error.
     *      5. Create a new Bag object from passed in Bag information and return it
     */
    public static Shirt requestShirt() {
        System.out.print("  Enter the type of shirt: ");
        String bagType = keyboard.nextLine();
        System.out.print("  Enter the color of the shirt: ");
        String color = keyboard.nextLine();
        boolean condition = false;
        boolean stripes = false;
        String input;
        do {
            System.out.print("  Is the shirt striped? Y/N : ");
            input = keyboard.nextLine();
            if (input.equalsIgnoreCase("Y")) {
                condition = true;
                stripes = true;
            }
            else if (input.equalsIgnoreCase("N")) {
                condition = true;
            }
            if (!condition)
                System.out.println("Please enter either Y or N.");
        } while (!condition);
        return new Shirt(bagType, color, stripes);
    }

    /**
     * Method to show the options for where to add a bag
     * Algorithm:
     *      1. Make use of println to show all the possible ways to add a bag to the Bag List
     */
    public static void showAddMenu(){
        System.out.println("------------------------------------------------------------------------");
        System.out.println("    1. Add a shirt at head. ");
        System.out.println("    2. Add a shirt at tail. ");
        System.out.println("    3. Add a shirt at an index. ");
        System.out.println("------------------------------------------------------------------------");
    }

    /**
     * Method to show the options for which bag to delete
     * Algorithm:
     *      1. Make use of println to show all the possible options to deleting a bag in Bag list.
     */
    public static void showDeleteMenu(){
        System.out.println("------------------------------------------------------------------------");
        System.out.println("    1. Delete shirt at head. ");
        System.out.println("    2. Delete shirt at tail. ");
        System.out.println("    3. Delete a shirt at an index. ");
        System.out.println("------------------------------------------------------------------------");
    }

    /**
     * Method to handle the logic deleting an object from the list
     * Algorithm:
     *      1. Call the showDeleteMenu method
     *      2. Request a choice from the user between the range of possible delete option
     *      3. Create an int object to hold possible index (if user chooses to add at an index)
     *      4. If user chooses to delete at an index request index from user using Scanner object
     *      5. Create a switch statement to handle user's choice of where to delete
     *          6.1. call deleteAtHead method if user choice == 1
     *          6.2. call deleteAtTail method if user choice == 2
     *          6.3. call deleteAtIndex method if user choice == 3 and pass in the index requested
     */
    public static void deleteObject() throws NullPointerException{
        showDeleteMenu();
        int choice = enterChoice(1,3, "Enter your choice: ",invalidNumber);
        int index = 0;
        if (choice==3)
            index = enterChoice(0, shirtList.getNodeCount(),"Enter index: ", indexDoesNotExist);
        switch (choice) {
            case 1 -> shirtList.deleteAtHead();
            case 2 -> shirtList.deleteAtTail();
            case 3 -> shirtList.deleteAtIndex(index);
        }
    }

    /**
     * Method to handle getting an object from the list
     * Algorithm:
     *      1. Request an index from user using the enterChoice method
     *      2. Insert the index specified to the get method of bagList and display the returned bag to user.
     */
    public static void getObject()  {
        if ( shirtList.getNodeCount() !=0) {
            int choice = enterChoice(0, shirtList.getNodeCount() - 1, "Enter the index of the number you would like to get: ", invalidNumber);
            System.out.println(shirtList.get(choice));
        } else {
            System.out.println("There are no bags in the list.");
        }
    }

    /**
     * Method to handle quitting of the program
     * Algorithm:
     *      1. Display a thank you message to user
     *      2. Quit program.
     */
    public static void quit() {
        System.out.println("Thank you for using the program!");
        System.exit(0);
    }

    /**
     * Method to handle showing all bags in list to user
     * Algorithm:
     *      1. Create a for loop to iterate through all bags in the list and display each of them to user.
     */
    public static void showShirts() {
        for (int x = 0; x<shirtList.getNodeCount(); x++)
            System.out.println((x+1) + ". " + shirtList.get(x));
    }

}
